{"version":3,"file":"static/webpack/static/development/pages/index.js.349b20614de04dcbb781.hot-update.js","sources":["webpack:///./pages/index.js"],"sourcesContent":["/** @jsx jsx */\nimport { jsx, css } from '@emotion/core'\nimport styled from '@emotion/styled'\nimport { animated, useSpring, interpolate, config } from 'react-spring'\nimport { size } from 'polished'\nimport CenterLayout from '../components/CenterLayout'\nimport { useRef } from 'react'\nimport transform from '../libs/transform'\n\nexport default function Index() {\n  const [{rotateX, rotateY, scale}, setSpring] = useSpring(() => ({\n    config: config.gentle,\n    rotateX: 0,\n    rotateY: 0,\n    scale: 1\n  }))\n\n  const cardInfo = useRef({\n    pointXInCard: 0,\n    pointYInCard: 0\n  }).current\n\n  const handleMouseMove = (ev)=>{\n    const { target, clientX, clientY } = ev\n    const { top,left,width,height,bottom } = target.getBoundingClientRect()\n    setSpring({\n      rotateX: transform(clientY, [clientY-top,clientY-top+height], [-30,30]),\n      rotateY: transform(clientX, [clientX-left, clientX-left+width], [-30,30]),\n      scale: 1.2\n    })\n  }\n\n  return (\n    <CenterLayout>\n      <AnimatedCard\n        onMouseMove={handleMouseMove}\n        onMouseOut={() => setSpring({\n          rotateX: 0,\n          rotateY: 0,\n          scale: 1\n        })}\n        style={{ transform: interpolate([rotateX, rotateY, scale], (x,y,s)=>`perspective(1000px) rotateX(${x}deg) rotateY(${y}deg) scale(${s})`) }}\n      >\n        <img\n          src='https://images.pexels.com/photos/3558597/pexels-photo-3558597.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500'\n          alt=''\n        />\n      </AnimatedCard>\n    </CenterLayout>\n  )\n}\n\nconst AnimatedCard = styled(animated.div)`\n  ${size(400)};\n  border-radius: 10px;\n  overflow: hidden;\n  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);\n  cursor: pointer;\n  /* transform: perspective(600px) rotateX(-30deg) rotateY(-30deg); */\n  img {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n  }\n`"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;AAJA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAOA;AACA;AACA;AAFA;AACA;AAIA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AACA;AACA;AACA;AAHA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAEA;;;;A","sourceRoot":""}